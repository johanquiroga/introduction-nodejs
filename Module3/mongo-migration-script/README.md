# MongoDB Migration Node Script
This is a script to move data obtained from one MongoDB database to another. The use case is that some data was lost for some reason, the missing information was restored from a backup replica. This script merges the actual data with the missing information and uploads the complete information to a MongoDB database.

## Executing
to run the script issue the following command
`$ node index.js [nChunks=50] [path/to/file1 path/to/file2 ... path/to/file3]`

`nChunks` defaults to 50 chunks and the list of `files` defaults to `./data/m3-customer-data.json` and `./data/m3-customer-address-data.json`

The hardcoded mongoDB is 'mongodb://localhost:27017/edx-course-db' collection 'module3-assignment'. This is a possible enhance, receive these parameters through CLI arguments.

You can check tthe result in the database and in the file `result-customers-data.json` generated by the script.

## Questions
1. I put all the custom functions that would be used during the script execution under `helpers` folder, `db.js` are database functions (CRUD operations), 'file.js' is a function to read the files and merge them, `utils.js` are miscellaneous functions. For the execution of parallel database operations I used the `async` modules as recommended.
2. To test that the script was working I extract small samples from both files that could be easily reviwed and run it. The result was correct, both in database and in result file.
